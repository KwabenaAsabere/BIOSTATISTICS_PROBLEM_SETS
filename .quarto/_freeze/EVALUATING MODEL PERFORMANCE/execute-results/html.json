{
  "hash": "8c76daab424449c232910a71cd836398",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"EVALUATION OF MODEL PERFORMANCE\"\nauthor: \"K.ASABERE\"\neditor: visual\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidymodels)\nlibrary(tidyverse)\ntidymodels_prefer()\ntheme_set(theme_bw())\n ames <- ames\n\nset.seed(502) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\names_split <- initial_split(ames,prop = 0.8)\names_train <- training(ames_split)\names_test <- testing(ames_split)\n```\n:::\n\n\n\n ### Recipe object\n\n::: {.cell}\n\n```{.r .cell-code}\names_rec <- ames_train %>% \n  recipe(Sale_Price ~ Neighborhood + Gr_Liv_Area + Year_Built + Bldg_Type +Latitude + Longitude,data = .)%>%\n  step_log(Gr_Liv_Area,base = 10) %>% \n  step_other(Neighborhood,threshold = 0.01) %>% \n  step_dummy(all_nominal_predictors()) %>% \n  step_interact(~Gr_Liv_Area:starts_with(\"Bldg_Type_\")) %>% \n  step_ns(Latitude,Longitude, deg_free = 20)\n```\n:::\n\n ### Model and Workflow\n \n\n::: {.cell}\n\n```{.r .cell-code}\nlm_model <- linear_reg() %>% set_engine(\"lm\")\n\nlm_wflow <- workflow() %>% \n  add_model(lm_model) %>% \n  add_recipe(ames_rec)\n\nlm_fit <- fit(lm_wflow,ames_train)\nlm_fit\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: linear_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n5 Recipe Steps\n\n• step_log()\n• step_other()\n• step_dummy()\n• step_interact()\n• step_ns()\n\n── Model ───────────────────────────────────────────────────────────────────────\n\nCall:\nstats::lm(formula = ..y ~ ., data = data)\n\nCoefficients:\n                                         (Intercept)  \n                                          -2015502.8  \n                                         Gr_Liv_Area  \n                                            246499.2  \n                                          Year_Built  \n                                               723.7  \n                          Neighborhood_College_Creek  \n                                              5121.2  \n                               Neighborhood_Old_Town  \n                                             -5917.3  \n                                Neighborhood_Edwards  \n                                            -16493.5  \n                               Neighborhood_Somerset  \n                                             70290.1  \n                     Neighborhood_Northridge_Heights  \n                                            113644.6  \n                                Neighborhood_Gilbert  \n                                             28932.9  \n                                 Neighborhood_Sawyer  \n                                            -27816.7  \n                         Neighborhood_Northwest_Ames  \n                                             34368.2  \n                            Neighborhood_Sawyer_West  \n                                            -33842.0  \n                               Neighborhood_Mitchell  \n                                            -13139.1  \n                              Neighborhood_Brookside  \n                                              5066.0  \n                               Neighborhood_Crawford  \n                                            100885.1  \n                 Neighborhood_Iowa_DOT_and_Rail_Road  \n                                             15534.8  \n                             Neighborhood_Timberland  \n                                             42531.6  \n                             Neighborhood_Northridge  \n                                             75195.1  \n                            Neighborhood_Stone_Brook  \n                                            157352.9  \nNeighborhood_South_and_West_of_Iowa_State_University  \n                                             30135.2  \n                            Neighborhood_Clear_Creek  \n                                             -1162.0  \n                         Neighborhood_Meadow_Village  \n                                            -37298.2  \n                              Neighborhood_Briardale  \n\n...\nand 100 more lines.\n```\n\n\n:::\n:::\n\n \n \n ### Make predictions\n\n::: {.cell}\n\n```{.r .cell-code}\names_test_res <- predict(lm_fit,new_data = ames_test %>% select(-Sale_Price))\n\names_test_res <- bind_cols(ames_test_res,ames_test %>% pull(Sale_Price))\n\names_test_res\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|        .pred|   ...2|\n|------------:|------:|\n| 203870.86996| 244000|\n| 365850.59722| 394432|\n| 119390.32228| 141000|\n| 157433.87734| 146000|\n| 312572.60902| 275000|\n| 171742.18593| 184500|\n| 292036.49179| 290000|\n| 334725.52511| 410000|\n| 234244.97950| 262500|\n| 264190.50263| 254900|\n| 103503.58350| 143000|\n| 104929.89486|  99500|\n|  87963.65498| 125000|\n| 205739.72955| 194500|\n| 153857.80023| 152000|\n| 155842.95840| 112000|\n| 138816.06599| 148000|\n| 243663.36720| 267916|\n| 116400.60073| 155000|\n| 173173.75958| 130500|\n| 212108.92988| 196500|\n| 194249.75098| 143000|\n| 184283.02021| 178900|\n| 133608.38734| 137500|\n| 105332.05962| 116500|\n| 110257.00668| 128000|\n| 130386.72969| 178000|\n| 202712.18088| 214000|\n| 161015.65286| 167500|\n| 185041.27787| 159500|\n| 136857.30819| 135000|\n| 104379.54727| 107500|\n| 125149.07778| 144900|\n| 109516.03191| 129000|\n| 140305.73940| 154000|\n| 157346.10392| 143000|\n| 140480.93316| 107400|\n| 173072.15468| 240000|\n| 149912.64809| 149700|\n| 114751.07992| 134000|\n| 147622.99409| 139900|\n| 217286.53125| 244400|\n| 190644.38856| 173000|\n| 158420.26290| 121500|\n| 179804.78788| 158000|\n| 144720.75353| 160250|\n| 212260.92161| 260000|\n| 218186.83963| 230000|\n| 123713.62503| 129000|\n| 150729.65533| 114000|\n|  90712.10686|  84900|\n| 231251.44361| 236000|\n| 153499.81257| 147000|\n| 223498.63571| 200500|\n| 180261.12850| 161750|\n| 127959.48345| 100000|\n| 109728.09113|  90000|\n|  76592.79687|  80000|\n| 155426.44901| 128000|\n|  44658.29855|  58500|\n| 148288.80114| 160000|\n| 137192.66784| 162500|\n|  55727.33371|  50138|\n| 218007.07556| 201000|\n|  99368.38549|  85500|\n| 179493.05984| 161000|\n| 305407.22320| 240000|\n| 172169.19889| 178000|\n| 171182.26278| 181316|\n| 166585.77159| 174000|\n| 213091.18416| 225000|\n| 240758.60882| 260000|\n| 250804.55073| 249000|\n| 147558.95665| 152000|\n| 144657.60963| 167900|\n| 149063.79448| 143000|\n| 118353.26889| 120500|\n|  86091.60026| 118000|\n| 173285.26386| 147000|\n| 156335.86010| 148500|\n| 183227.80183| 138000|\n| 366919.00823| 253293|\n| 361878.17051| 335000|\n| 412085.35572| 582933|\n| 341768.29509| 360000|\n| 320183.95788| 324000|\n| 270307.15239| 233170|\n| 372579.06526| 552000|\n| 220486.77586| 173000|\n| 211473.21144| 174000|\n| 168657.31169| 180000|\n| 210182.40210| 200000|\n| 175055.59090| 170000|\n| 205539.86312| 179000|\n| 239219.00029| 245000|\n| 250777.39602| 210000|\n| 223086.69336| 208300|\n| 234143.71614| 250000|\n| 259346.44171| 370878|\n| 236485.04104| 238500|\n| 166797.36189| 159000|\n| 204278.39534| 193000|\n| 187382.02797| 189000|\n| 202288.40345| 171500|\n| 108102.08661| 141000|\n| 111341.14253|  62383|\n| 184125.36323| 143000|\n| 196741.97885| 161500|\n| 157600.81706| 154000|\n| 124358.97964| 124500|\n|  68399.38119|  82500|\n| 173659.05351| 175000|\n| 113861.54829| 147000|\n| 122915.01663| 124000|\n| 137953.51248| 150000|\n| 131358.54949| 149500|\n| 153463.46637| 144000|\n| 161992.23565| 176000|\n| 146195.75253| 123000|\n| 110497.58260| 132000|\n|  67249.35660| 109500|\n| 165434.39715| 154000|\n|  90999.22876|  92900|\n| 113104.34330|  93000|\n| 137231.00195| 129500|\n| 143452.96288|  87500|\n| 133319.08717| 146500|\n| 150650.95768| 223500|\n| 126058.96711| 100000|\n| 148884.97134| 133000|\n|  77593.75689|  60000|\n|  88994.62348| 105000|\n| 119471.56958|  62500|\n| 105124.14175|  97500|\n|  73091.51654|  88750|\n| 156048.12737| 179000|\n| 143538.00368| 159900|\n| 166330.34527| 175000|\n|  67355.12535|  63900|\n|  79580.76277|  82500|\n| 231032.42669| 190000|\n| 203368.76250| 139600|\n| 165146.72122| 131000|\n| 114085.39575| 105000|\n| 129865.52319| 108000|\n| 233219.33695| 271900|\n| 135022.69635| 148325|\n| 259652.57945| 323262|\n| 255724.05380| 297000|\n| 200981.31666| 173000|\n| 217422.83223| 275000|\n| 201130.90725| 207000|\n| 149670.58528| 138000|\n| 200707.14906| 204000|\n| 196697.81561| 187100|\n| 205703.85194| 201000|\n| 136269.76892| 123000|\n| 121285.62353| 133000|\n| 216447.61315| 250000|\n| 121253.42137| 144000|\n| 215992.81035| 173500|\n| 211721.29694| 170000|\n| 162661.92844| 159500|\n| 159523.10848| 103500|\n| 183090.86209| 160000|\n| 140701.84168| 163500|\n| 211408.07265| 193000|\n| 181724.06906| 158500|\n| 133377.10435| 137000|\n| 119338.70759| 121000|\n|  90722.18347|  78000|\n| 167259.35922| 126000|\n| 182534.16777| 173000|\n| 189002.41572| 137500|\n| 249109.04084| 204000|\n| 278732.49783| 425000|\n| 191631.05733| 115000|\n|  91138.92608|  91000|\n| 126273.32396| 130000|\n| 178401.75266| 160000|\n| 115527.30427| 131900|\n| 146923.61625| 131250|\n| 126217.82679| 149000|\n| 165648.89408| 143000|\n| 192106.26214| 196000|\n| 185037.14543| 173000|\n| 165675.19946| 177900|\n| 254238.67963| 180000|\n| 239606.45790| 189000|\n| 401538.20468| 325000|\n| 159936.42728| 133000|\n| 207959.18273| 220000|\n| 254243.57647| 306000|\n| 156609.83535| 181000|\n| 383814.79807| 446261|\n| 277512.14301| 370967|\n| 247078.37709| 219500|\n| 249034.29414| 207000|\n| 214081.61352| 195000|\n| 210098.96749| 219990|\n| 190644.35559| 179000|\n| 230018.99776| 217300|\n| 314811.58785| 250000|\n| 294049.62443| 291000|\n| 283095.75725| 350000|\n| 319409.91391| 279500|\n| 302609.90701| 350000|\n| 296641.75744| 287500|\n| 262572.58317| 301500|\n| 258252.21552| 240000|\n| 254807.12118| 264132|\n| 234643.79064| 227680|\n| 246235.03062| 226700|\n| 235302.62947| 205950|\n| 252773.16413| 207500|\n| 206901.39000| 175000|\n| 202324.38188| 187000|\n| 106176.65523| 119916|\n| 171434.10244| 165000|\n| 189457.66951| 146000|\n| 196472.41453| 285000|\n| 262223.65468| 290000|\n| 254856.00462| 205000|\n| 172841.55316| 174000|\n| 168960.04433| 150000|\n| 130477.15549| 145000|\n| 227734.51909| 170000|\n| 220809.52556| 185000|\n| 123260.60762|  98000|\n| 109040.76053| 109008|\n| 138278.41890| 140000|\n| 126093.58933| 145500|\n| 156256.51335| 163000|\n| 167710.20128| 185000|\n| 182639.69076| 166800|\n| 168873.57889| 166000|\n| 137215.92761| 148000|\n|  96799.79053|  94000|\n| 115157.04999|  98300|\n| 144392.77576| 155000|\n| 165986.16773| 150000|\n|  94848.71527| 109500|\n| 204384.97716| 256000|\n|  80027.62391| 115000|\n|  89745.19239| 114000|\n| 178894.03308| 129500|\n| 132099.05454| 129400|\n| 104833.58031|  97000|\n| 134820.22817| 115500|\n|  64879.24816| 109500|\n| 186729.20839| 150000|\n| 159547.50120| 136000|\n|  96211.63270| 127500|\n|  98538.06370| 127000|\n| 102477.56173| 135000|\n| 123832.83609| 109900|\n| 137227.23527| 145000|\n| 165508.45424| 152000|\n| 124577.08575| 108959|\n| 155195.65413| 165000|\n| 139834.87073| 144000|\n| 215637.73842| 192000|\n| 196535.68471| 245000|\n| 180956.07459| 260000|\n|  92461.33740| 107500|\n|  82164.25071|  79000|\n| 242683.39182| 262280|\n| 200008.02438| 195000|\n| 230982.47665| 200000|\n| 146673.93414| 155000|\n| 225119.39583| 235000|\n| 172670.20118| 158000|\n| 162020.49736| 147000|\n| 236998.18342| 235000|\n| 241721.76786| 222500|\n| 121034.93799| 136500|\n| 203507.83894| 208900|\n| 217673.62460| 218836|\n| 113356.19001| 118000|\n|  92825.40679| 120000|\n| 122484.50690| 100000|\n| 181149.77457| 179500|\n| 172950.65080| 189000|\n| 168933.07731| 231000|\n| 174569.51466| 104000|\n| 234780.55310| 263400|\n|  77791.59175| 126000|\n|  68561.02897|  13100|\n|  61729.73907|  65000|\n| 172373.26359| 100000|\n| 226412.31934| 184000|\n| 212345.98318| 175000|\n| 231389.95498| 232500|\n| 159113.50657| 209200|\n|  93445.97849|  98000|\n| 112069.66250| 130500|\n| 111924.07448| 138000|\n| 207414.11158| 244000|\n| 224564.16376| 204000|\n| 251792.53427| 212000|\n| 193858.82581| 182900|\n| 203345.05234| 213000|\n| 208084.28450| 190000|\n| 172011.71889| 152000|\n| 175542.49985| 175000|\n| 139529.26019| 143250|\n| 177441.76826| 155000|\n| 136049.26248| 133000|\n| 141444.72641| 119500|\n|  99524.42192| 133000|\n| 158424.56081| 155000|\n|  97378.41187| 113500|\n| 116071.19123| 113700|\n| 132102.43952| 122500|\n| 378124.86631| 314813|\n| 365855.09152| 322400|\n| 391654.47337| 338931|\n| 405448.92358| 479069|\n| 359495.13932| 440000|\n| 384585.69157| 418000|\n| 344245.35593| 319500|\n| 365217.08200| 354000|\n| 204018.50955| 200000|\n| 243949.86750| 200000|\n| 216549.53934| 176000|\n| 198958.14768| 178900|\n| 184488.67431| 176485|\n| 178325.43719| 175000|\n| 211171.36851| 215000|\n| 215643.15127| 211000|\n| 165366.53470| 170000|\n| 151244.55608| 162000|\n| 416262.56082| 745000|\n| 346016.94760| 410000|\n| 301328.36323| 252000|\n| 401114.05239| 755000|\n| 332074.41067| 430000|\n| 231410.17343| 208900|\n| 292319.21785| 340000|\n| 200424.32262| 201000|\n| 165275.53753| 179200|\n| 116679.60974| 125500|\n| 323112.39883| 302000|\n| 329650.84157| 285000|\n| 208919.08529| 207500|\n| 175720.50478| 177000|\n| 190749.25209| 279700|\n| 164586.91558| 213750|\n| 171554.39448| 190000|\n| 183166.73860| 185000|\n| 209311.93635| 188500|\n| 144206.67895| 143000|\n| 140253.06281| 140500|\n| 150871.60693| 150750|\n| 121426.42030| 114500|\n| 125206.83277| 131000|\n| 173953.92221| 157900|\n| 145962.89796| 120000|\n| 125341.08131| 116000|\n| 167528.68099| 130000|\n| 143656.72710| 129500|\n| 171923.32003| 115000|\n|  96622.11906| 112500|\n| 117267.67326| 148000|\n|  53206.08586|  86000|\n| 131203.79991| 128500|\n| 131695.68910| 102000|\n| 131523.00308| 135000|\n| 121134.75191| 152000|\n| 187788.84206| 187000|\n| 149488.99838|  90000|\n| 173456.24942| 185000|\n| 161956.19527| 159500|\n| 124233.82597|  87000|\n| 120405.26393| 104500|\n| 170714.57677| 210000|\n|  90305.35473| 113000|\n| 138083.23381| 132000|\n| 101466.09085| 102000|\n| 180503.65474| 200000|\n| 130959.52255| 153575|\n|  99914.87547| 117000|\n| 123578.35208| 139400|\n| 195302.61027| 202500|\n| 165676.65855| 212300|\n| 133003.32772| 127000|\n| 138087.33924| 137000|\n| 257828.26946| 255000|\n| 111405.49466| 130000|\n| 186840.19765| 228500|\n| 234349.18097| 225000|\n| 225783.87549| 228500|\n| 215372.75901| 155835|\n| 230496.87727| 207000|\n| 150853.17061| 146000|\n| 224715.85524| 217500|\n| 195590.73807| 226000|\n| 151645.63195| 153500|\n| 148643.80626| 134900|\n| 148067.72472| 130000|\n| 236449.91868| 213000|\n| 240341.24466| 240000|\n| 234200.25252| 213500|\n| 192875.72198| 173500|\n| 116159.04230| 122000|\n| 127835.68854| 110000|\n|  93498.46835|  98500|\n| 129006.17993| 150000|\n| 114262.11043|  96500|\n| 177231.23440| 136500|\n| 175840.50292| 145000|\n| 199321.14205| 238000|\n| 182425.79551| 153500|\n| 227546.89415| 201000|\n| 229079.87952| 198000|\n| 126751.59701| 115000|\n|  69316.78557|  87000|\n| 131761.34922| 129850|\n| 150110.10804| 150909|\n| 152259.38337| 152000|\n|  90714.67916|  68104|\n| 121202.75153| 140000|\n|  93505.26714| 124900|\n| 204027.95924| 210000|\n| 205242.13868| 330000|\n| 254494.58111| 248900|\n| 247597.69835| 204000|\n| 279397.90238| 283463|\n| 203103.93160| 130000|\n| 158048.21843| 168000|\n| 101287.13009| 129900|\n|  94794.18384|  85500|\n| 192455.69391| 196000|\n| 113806.00478| 138000|\n| 110219.09648| 129500|\n| 113381.87746| 139000|\n| 187106.41520| 170000|\n| 187904.80023| 185000|\n| 255378.41821| 320000|\n| 235663.49395| 250000|\n| 243507.85883| 309000|\n| 166324.15783| 165600|\n| 228651.95093| 130000|\n| 280147.72040| 239000|\n| 404701.82889| 457347|\n| 411237.28329| 361919|\n| 198117.72767| 190000|\n| 197841.02643| 207500|\n| 164550.79014| 153500|\n| 162748.98871| 190000|\n|  89167.05026|  94500|\n| 109138.68269| 123000|\n| 143073.75030| 137500|\n| 365087.97545| 315000|\n| 339616.40311| 252000|\n| 343242.40291| 293000|\n| 346519.31435| 298236|\n| 341781.34362| 329900|\n| 325476.98294| 378000|\n| 334710.40250| 374000|\n| 350953.85931| 437154|\n| 293372.21774| 332200|\n| 196222.87211| 170440|\n| 214727.72897| 234000|\n| 181433.55502| 172400|\n| 227240.93983| 230000|\n| 330950.01679| 350000|\n| 361734.54469| 584500|\n| 278265.71166| 252000|\n| 290210.42158| 423000|\n| 205817.73173| 187750|\n| 155133.82510| 139500|\n| 210238.83651| 187000|\n| 125149.27288| 126000|\n| 172264.76043| 151000|\n| 160800.16085| 149900|\n| 170906.44411| 165000|\n| 251144.48365| 221000|\n| 191955.67394| 270000|\n| 146103.20725| 170000|\n| 275342.60620| 385000|\n| 133609.46519| 146500|\n| 191811.08513| 262500|\n| 143993.61150| 140000|\n| 137025.08399| 142000|\n| 145517.87302| 158000|\n| 181849.29301| 167000|\n|  77647.45182| 129800|\n| 141667.01010| 172000|\n| 136823.91389| 118000|\n| 143486.50050| 143000|\n| 157388.02915| 132000|\n| 155152.90144| 134450|\n| 129738.00737| 133500|\n| 133325.05582| 125000|\n| 198716.43118| 167000|\n|  98618.51171| 108480|\n|  61501.62773|  68000|\n| 110593.40544| 105000|\n| 192029.51305| 183000|\n| 227200.95462| 277500|\n| 120181.42870| 133700|\n|  93523.47025|  87500|\n| 107140.84383| 105000|\n|  85971.23986| 111500|\n| 124339.04493| 124000|\n|  15569.21472|  61500|\n| 151060.92291|  87000|\n| 134407.70921| 114504|\n| 169179.55937| 157000|\n|  97854.06711| 110500|\n| 110142.66269| 113000|\n|  92889.72630| 109000|\n| 212732.31839| 220000|\n|  61432.91214|  52500|\n|  78976.17331|  72000|\n| 125789.72363| 125500|\n|  89967.87813|  90000|\n| 145881.43751| 137500|\n| 174724.35558| 130000|\n| 121128.58622| 132000|\n| 174846.88854| 149500|\n| 179951.54268| 165000|\n| 174528.30504| 156500|\n| 160718.08515| 168000|\n| 155373.00503| 164000|\n| 201311.67487| 235000|\n| 183410.89546| 182000|\n| 168495.16702| 149900|\n| 175909.71842| 180000|\n| 227669.97463| 215000|\n| 155747.86455| 224500|\n| 192706.03136| 183600|\n| 194999.79589| 193879|\n| 225738.31060| 204900|\n| 232196.50626| 260000|\n| 213369.12868| 294900|\n| 236443.27287| 209700|\n| 213386.13163| 181000|\n| 197389.17810| 193000|\n| 208838.78381| 196000|\n| 243683.37210| 255000|\n| 233901.31505| 222000|\n| 227386.89681| 214000|\n| 234733.92398| 227000|\n| 244464.46389| 274300|\n| 121122.43556| 133000|\n| 124424.00117| 155900|\n| 211969.55091| 173900|\n| 129090.48038| 102000|\n| 129131.81577| 117250|\n| 135406.77791| 134000|\n| 135405.56543| 130000|\n| 135407.50165| 137500|\n|  97902.64078|  92000|\n|  87229.99529| 116000|\n| 103113.53878|  83000|\n|    -22.18941|  35000|\n|  84993.08521| 121000|\n| 104432.00267| 128000|\n| 115516.31642| 160000|\n| 196099.37276| 138887|\n| 121909.11996| 102000|\n| 176379.64950| 140000|\n| 192035.91787| 230000|\n| 224479.66296| 194000|\n| 143523.04412| 137500|\n| 243057.57482| 239000|\n| 212455.00973| 210000|\n| 255016.63158| 257000|\n| 185184.80462| 157000|\n|  95733.12252| 102000|\n|  36058.57317|  85000|\n|  97142.77514| 106500|\n| 238130.29339| 228000|\n| 257706.92272| 359900|\n| 140904.18515| 164000|\n| 163830.65956| 153500|\n| 118004.13375| 104500|\n| 126590.20599| 126500|\n| 171840.48745| 140000|\n|  94874.13474|  87550|\n|  94816.81059|  79500|\n| 138785.39848| 142500|\n| 124833.63489| 131000|\n| 221604.60396| 188000|\n\n</div>\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}